"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5731],{9198:(t,e,o)=>{o.d(e,{bW:()=>l,ui:()=>i,xO:()=>n});var a=o(6455),s=o.n(a),r=s().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",s().stopTimer),t.addEventListener("mouseleave",s().resumeTimer)}}),i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Question",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Question description",o=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return new Promise((function(r,i){s().fire({icon:"question",title:t,text:e,showCancelButton:o,confirmButtonText:a}).then((function(t){t.isConfirmed&&r(t),i(t)}))}))},n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Success",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Success Message";r.fire({icon:"success",title:t,text:e})},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Ooops",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Something went wrong!";r.fire({icon:"error",title:t,text:e})}},5731:(t,e,o)=>{o.r(e),o.d(e,{default:()=>n});var a=o(5714),s=o(629),r=o(9198);const i={name:"leave-create",data:function(){return{form:new a.ZP({id:"",filed:"",user_id:"",type:"",from:"",to:"",status:"pending",reason:"",offset_date:"",offset_time:""})}},computed:(0,s.Se)({users:"users/users",application:"leave-applications/leave_application"}),methods:{submitApplication:function(){this.$store.dispatch("leave-applications/updateLeaveApplication",this.form).then((function(t){(0,r.xO)(t.message)})).catch((function(t){return(0,r.bW)()}))}},mounted:function(){var t=this,e={id:this.$route.params.id};this.$store.dispatch("users/fetchUsers"),this.$store.dispatch("leave-applications/fetchLeaveApplication",e).then((function(e){t.form.id=t.application.id,t.form.filed=t.application.filed,t.form.user_id=t.application.user_id,t.form.type=t.application.type,t.form.from=t.application.from,t.form.to=t.application.to,t.form.status=t.application.status,t.form.reason=t.application.reason,t.form.offset_date=t.application.offset_date,t.form.offset_time=t.application.offset_time})).catch((function(t){return(0,r.bW)()}))},metaInfo:function(){return{title:this.$t("Update Leave Application")}}};const n=(0,o(1900).Z)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[t._m(0),t._v(" "),e("div",{staticClass:"col-sm-12 border-bottom mb-3"},[e("card",{attrs:{title:t.$t("Update Leave Application")}},[e("form",{on:{submit:function(e){return e.preventDefault(),t.submitApplication.apply(null,arguments)}}},[e("div",{staticClass:"form-group py-3"},[e("label",{staticClass:"control-label",attrs:{for:"filed"}},[t._v("Date Filed")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.filed,expression:"form.filed"}],staticClass:"form-control",attrs:{type:"date",name:"filed"},domProps:{value:t.form.filed},on:{input:function(e){e.target.composing||t.$set(t.form,"filed",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group py-3"},[e("label",{staticClass:"control-label",attrs:{for:"employee"}},[t._v("Employee")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.user_id,expression:"form.user_id"}],staticClass:"form-control",attrs:{name:"employee",id:"employee"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"user_id",e.target.multiple?o:o[0])}}},t._l(t.users,(function(o){return e("option",{key:o.id,domProps:{value:o.id}},[t._v(t._s(o.full_name))])})),0)]),t._v(" "),e("div",{staticClass:"form-group py-3"},[e("label",{staticClass:"control-label",attrs:{for:"leave_type"}},[t._v("Type of leave request")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.type,expression:"form.type"}],staticClass:"form-control",attrs:{name:"leave_type",id:"leave_type"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"type",e.target.multiple?o:o[0])}}},[e("option",{attrs:{value:"sick"}},[t._v("Sick Leave")]),t._v(" "),e("option",{attrs:{value:"personal"}},[t._v("Personal Leave (SIL)")]),t._v(" "),e("option",{attrs:{value:"parental"}},[t._v("Maternity/Parental Leave")]),t._v(" "),e("option",{attrs:{value:"bereavement"}},[t._v("Bereavement Leave")]),t._v(" "),e("option",{attrs:{value:"unpaid"}},[t._v("Unpaid Leave")]),t._v(" "),e("option",{attrs:{value:"offset"}},[t._v("Offset: (Please indicate Date/Time)")]),t._v(" "),e("option",{attrs:{value:"other"}},[t._v("Other")])])]),t._v(" "),"offset"==t.form.type?e("div",{staticClass:"row py-3"},[e("div",{staticClass:"col-sm-12 col-lg-6"},[e("label",{staticClass:"control-label",attrs:{for:"offset_date"}},[t._v("Offset Date")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.offset_date,expression:"form.offset_date"}],staticClass:"form-control",attrs:{type:"date",name:"offset_date"},domProps:{value:t.form.offset_date},on:{input:function(e){e.target.composing||t.$set(t.form,"offset_date",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-sm-12 col-lg-6"},[e("label",{staticClass:"control-label",attrs:{for:"offset_time"}},[t._v("Offset Time")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.offset_time,expression:"form.offset_time"}],staticClass:"form-control",attrs:{type:"time",name:"offset_time"},domProps:{value:t.form.offset_time},on:{input:function(e){e.target.composing||t.$set(t.form,"offset_time",e.target.value)}}})])]):t._e(),t._v(" "),e("div",{staticClass:"row"},[e("label",{staticClass:"control-label"},[t._v("Date(s) of request")]),t._v(" "),e("div",{staticClass:"col-sm-12 col-lg-6"},[e("div",{staticClass:"form-group py-3"},[e("label",{staticClass:"control-label",attrs:{for:"leave_from"}},[t._v("From")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.from,expression:"form.from"}],staticClass:"form-control",attrs:{type:"date",name:"leave_from"},domProps:{value:t.form.from},on:{input:function(e){e.target.composing||t.$set(t.form,"from",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-sm-12 col-lg-6"},[e("div",{staticClass:"form-group py-3"},[e("label",{staticClass:"control-label",attrs:{for:"leave_to"}},[t._v("To")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.to,expression:"form.to"}],staticClass:"form-control",attrs:{type:"date",name:"leave_to"},domProps:{value:t.form.to},on:{input:function(e){e.target.composing||t.$set(t.form,"to",e.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"form-group py-3"},[e("label",{staticClass:"control-label",attrs:{for:"status"}},[t._v("Request Status")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.status,expression:"form.status"}],staticClass:"form-control",attrs:{name:"status",id:"status"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"status",e.target.multiple?o:o[0])}}},[e("option",{attrs:{value:"approved"}},[t._v("APPROVED")]),t._v(" "),e("option",{attrs:{value:"pending"}},[t._v("PENDING")]),t._v(" "),e("option",{attrs:{value:"declined"}},[t._v("DECLINED")])])]),t._v(" "),e("div",{staticClass:"form-group py-3"},[e("label",{staticClass:"control-label",attrs:{for:"reason"}},[t._v("Reason")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.reason,expression:"form.reason"}],staticClass:"form-control",attrs:{name:"reason",id:"reason",cols:"30",rows:"10"},domProps:{value:t.form.reason},on:{input:function(e){e.target.composing||t.$set(t.form,"reason",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"py-3"},[e("small",[e("strong",[t._v("IMPORTANT: ")]),t._v(" This request is subject to approval of the Management. Please note that the Management has the sole discretion to either "),e("strong",[t._v("APPROVE")]),t._v(" or "),e("strong",[t._v("DECLINE")]),t._v(" any requests based on the current business needs to ensure that company's operation is not getting compromised\n                    ")])]),t._v(" "),e("div",{staticClass:"form-group py-3 d-flex justify-content-end"},[e("a",{staticClass:"btn btn-success",attrs:{href:"javascript:void(0)"},on:{click:t.submitApplication}},[t._v("Submit")])])])])],1)])}),[function(){var t=this._self._c;return t("div",{staticClass:"col-sm-12 border-bottom mb-3"},[t("h1",[this._v("Leave Request")])])}],!1,null,null,null).exports}}]);