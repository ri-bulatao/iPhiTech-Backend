"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7889],{9198:(t,e,i)=>{i.d(e,{bW:()=>c,ui:()=>o,xO:()=>r});var n=i(6455),s=i.n(n),a=s().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",s().stopTimer),t.addEventListener("mouseleave",s().resumeTimer)}}),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Question",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Question description",i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,o){s().fire({icon:"question",title:t,text:e,showCancelButton:i,confirmButtonText:n}).then((function(t){t.isConfirmed&&a(t),o(t)}))}))},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Success",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Success Message";a.fire({icon:"success",title:t,text:e})},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Ooops",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Something went wrong!";a.fire({icon:"error",title:t,text:e})}},7889:(t,e,i)=>{i.r(e),i.d(e,{default:()=>r});var n=i(629),s=i(2552),a=i(9198);const o={name:"leave-list",data:function(){return{routeNames:s}},computed:(0,n.Se)({applications:"leave-applications/leave_applications"}),methods:{updateApplication:function(t,e){var i=this;t.status=e,this.$store.dispatch("leave-applications/updateLeaveApplication",t).then((function(t){(0,a.xO)(t.message),i.$store.dispatch("leave-applications/fetchLeaveApplications")})).catch((function(t){return(0,a.bW)()}))},prepareDelete:function(t){var e=this;(0,a.ui)("Are you sure?","There is no undo for this action",!0,"Yes, Delete it").then((function(i){e.deleteApplication(t)}))},deleteApplication:function(t){var e=this;this.$store.dispatch("leave-applications/deleteLeaveApplication",t).then((function(t){(0,a.xO)(t.message),e.$store.dispatch("leave-applications/fetchLeaveApplications")})).catch((function(t){return(0,a.bW)()}))}},mounted:function(){this.$store.dispatch("leave-applications/fetchLeaveApplications")},metaInfo:function(){return{title:this.$t("Leave Application List")}}};const r=(0,i(1900).Z)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[t._m(0),t._v(" "),e("div",{staticClass:"col-sm-12 border-bottom mb-3"},[e("card",{attrs:{title:t.$t("Leave Application List")}},[e("table",{staticClass:"table table-striped"},[e("thead",[e("tr",[e("td",[t._v("ID")]),t._v(" "),e("td",[t._v("Employee")]),t._v(" "),e("td",[t._v("From")]),t._v(" "),e("td",[t._v("To")]),t._v(" "),e("td",[t._v("Status")]),t._v(" "),e("td",[t._v("Actions")])])]),t._v(" "),e("tbody",t._l(t.applications,(function(i){return e("tr",{key:i.id},[e("td",[t._v(t._s(i.id))]),t._v(" "),e("td",[t._v(t._s(i.user.full_name))]),t._v(" "),e("td",[t._v(t._s(i.from))]),t._v(" "),e("td",[t._v(t._s(i.to))]),t._v(" "),e("td",[t._v(t._s(i.status))]),t._v(" "),e("td",[e("a",{staticClass:"btn btn-sm btn-success",attrs:{href:"javascript:void(0)"},on:{click:function(){return t.updateApplication(i,"approved")}}},[t._v("Approve")]),t._v(" "),e("a",{staticClass:"btn btn-sm btn-secondary",attrs:{href:"javascript:void(0)"},on:{click:function(){return t.updateApplication(i,"declined")}}},[t._v("Decline")]),t._v(" "),e("router-link",{staticClass:"btn btn-sm btn-warning",attrs:{to:{name:[t.routeNames.leave_edit],params:{id:i.id}}}},[t._v("Edit")]),t._v(" "),e("a",{staticClass:"btn btn-sm btn-danger",attrs:{href:"javascript:void(0)"},on:{click:function(){return t.prepareDelete(i)}}},[t._v("Delete")])],1)])})),0)])])],1)])}),[function(){var t=this._self._c;return t("div",{staticClass:"col-sm-12 border-bottom mb-3"},[t("h1",[this._v("Leave Request")])])}],!1,null,null,null).exports}}]);