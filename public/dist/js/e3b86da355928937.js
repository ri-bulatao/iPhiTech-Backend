"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3437],{9198:(e,o,s)=>{s.d(o,{bW:()=>n,ui:()=>a,xO:()=>c});var t=s(6455),r=s.n(t),i=r().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",r().stopTimer),e.addEventListener("mouseleave",r().resumeTimer)}}),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Question",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Question description",s=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0;return new Promise((function(i,a){r().fire({icon:"question",title:e,text:o,showCancelButton:s,confirmButtonText:t}).then((function(e){e.isConfirmed&&i(e),a(e)}))}))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Success",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Success Message";i.fire({icon:"success",title:e,text:o})},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Ooops",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Something went wrong!";i.fire({icon:"error",title:e,text:o})}},3437:(e,o,s)=>{s.r(o),s.d(o,{default:()=>a});var t=s(629),r=s(9198);const i={middleware:"admin",data:function(){return{isVideoEmbed:!1}},computed:(0,t.Se)({course_categories:"course-categories/course_categories",course:"courses/course",courseForm:"courses/courseForm"}),created:function(){var e=this;this.$store.dispatch("courses/fetchCourse",{id:this.$route.params.id}).then((function(){e.courseForm.keys().forEach((function(o){e.courseForm[o]=e.course[o]}))}))},methods:{updateCourse:function(){var e=this;this.$store.dispatch("courses/updateCourse",{id:this.$route.params.id}).then((function(o){var s=o.success,t=o.message;s&&((0,r.xO)("Course Updated",t),e.$store.dispatch("courses/fetchCourses"),e.$router.push({name:"admin.course.list"}))})).catch((function(e){(0,r.bW)()}))},videoChange:function(){},courseFeatureImageUpload:function(e){}}};const a=(0,s(1900).Z)(i,(function(){var e=this,o=e._self._c;return o("div",[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 mt-4"},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-header"},[e._v("\n                    Add Course\n                ")]),e._v(" "),o("div",{staticClass:"card-body"},[o("form",{on:{submit:function(o){return o.preventDefault(),e.updateCourse.apply(null,arguments)},keydown:function(o){return e.courseForm.onKeydown(o)}}},[o("div",{staticClass:"mb-3 row"},[o("label",{staticClass:"col-md-12"},[e._v(e._s(e.$t("title")))]),e._v(" "),o("div",{staticClass:"col-md-12"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.courseForm.title,expression:"courseForm.title"}],staticClass:"form-control",class:{"is-invalid":e.courseForm.errors.has("title")},attrs:{type:"text",name:"title"},domProps:{value:e.courseForm.title},on:{input:function(o){o.target.composing||e.$set(e.courseForm,"title",o.target.value)}}}),e._v(" "),o("has-error",{attrs:{form:e.courseForm,field:"title"}})],1)]),e._v(" "),o("div",{staticClass:"mb-3 row"},[o("label",{staticClass:"col-md-12"},[e._v(e._s(e.$t("description")))]),e._v(" "),o("div",{staticClass:"col-md-12"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.courseForm.description,expression:"courseForm.description"}],staticClass:"form-control",class:{"is-invalid":e.courseForm.errors.has("description")},attrs:{name:"description",id:"description",rows:"3",placeholder:""},domProps:{value:e.courseForm.description},on:{input:function(o){o.target.composing||e.$set(e.courseForm,"description",o.target.value)}}}),e._v(" "),o("has-error",{attrs:{form:e.courseForm,field:"description"}})],1)]),e._v(" "),o("div",{staticClass:"mb-3 row"},[o("label",{staticClass:"col-md-12"},[e._v(e._s(e.$t("Course Category")))]),e._v(" "),o("div",{staticClass:"col-md-12"},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.courseForm.course_category_id,expression:"courseForm.course_category_id"}],staticClass:"form-control",attrs:{name:"course_category_id",id:"course_category_id"},on:{change:function(o){var s=Array.prototype.filter.call(o.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.courseForm,"course_category_id",o.target.multiple?s:s[0])}}},e._l(e.course_categories,(function(s){return o("option",{key:s.id,domProps:{value:s.id}},[e._v(e._s(s.title))])})),0),e._v(" "),o("has-error",{attrs:{form:e.courseForm,field:"course-category"}})],1)]),e._v(" "),o("div",{staticClass:"mb-3 row"},[o("div",{staticClass:"col-md-12"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.courseForm.is_embed,expression:"courseForm.is_embed"}],attrs:{id:"checkbox",type:"checkbox",name:"is_embed"},domProps:{checked:Array.isArray(e.courseForm.is_embed)?e._i(e.courseForm.is_embed,null)>-1:e.courseForm.is_embed},on:{change:[function(o){var s=e.courseForm.is_embed,t=o.target,r=!!t.checked;if(Array.isArray(s)){var i=e._i(s,null);t.checked?i<0&&e.$set(e.courseForm,"is_embed",s.concat([null])):i>-1&&e.$set(e.courseForm,"is_embed",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.courseForm,"is_embed",r)},e.videoChange]}}),e._v(" "),o("label",{attrs:{for:""}},[e._v("Embed Video")])])]),e._v(" "),e.isVideoEmbed?o("div",{staticClass:"mb-3 row"},[o("label",{staticClass:"col-md-12"},[e._v(e._s(e.$t("Video URL")))]),e._v(" "),o("div",{staticClass:"col-md-12"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.courseForm.video_url,expression:"courseForm.video_url"}],staticClass:"form-control",class:{"is-invalid":e.courseForm.errors.has("video_url")},attrs:{type:"text",name:"video_url"},domProps:{value:e.courseForm.video_url},on:{input:function(o){o.target.composing||e.$set(e.courseForm,"video_url",o.target.value)}}}),e._v(" "),o("has-error",{attrs:{form:e.courseForm,field:"video_url"}})],1)]):o("div",{staticClass:"mb-3 row"},[o("label",{staticClass:"col-md-12"},[e._v(e._s(e.$t("Embed Code")))]),e._v(" "),o("div",{staticClass:"col-md-12"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.courseForm.embed_code,expression:"courseForm.embed_code"}],staticClass:"form-control",class:{"is-invalid":e.courseForm.errors.has("embed_code")},attrs:{name:"embed_code",id:"embed_code",rows:"3",placeholder:""},domProps:{value:e.courseForm.embed_code},on:{input:function(o){o.target.composing||e.$set(e.courseForm,"embed_code",o.target.value)}}}),e._v(" "),o("has-error",{attrs:{form:e.courseForm,field:"embed_code"}})],1)]),e._v(" "),o("div",{staticClass:"mb-3 row"},[o("label",{staticClass:"col-md-12"},[e._v(e._s(e.$t("Featured Image")))]),e._v(" "),o("div",{staticClass:"col-md-12"},[o("input",{staticClass:"form-control",attrs:{type:"file",name:"book"},on:{change:e.courseFeatureImageUpload}}),e._v(" "),o("has-error",{attrs:{form:e.courseForm,field:"featured_image"}})],1)]),e._v(" "),o("v-button",{staticClass:"btn btn-primary btn-sm",attrs:{loading:e.courseForm.busy},on:{click:function(o){return e.updateCourse()}}},[e._v("\n                            Submit\n                        ")]),e._v(" "),o("router-link",{staticClass:"btn btn-secondary btn-sm",attrs:{to:{name:"admin.course.list"}}},[e._v(" Back to List ")])],1)])])])])])}),[],!1,null,null,null).exports}}]);