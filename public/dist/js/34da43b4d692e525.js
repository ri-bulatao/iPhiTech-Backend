"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[120],{7120:(t,i,n)=>{n.r(i),n.d(i,{default:()=>c});var e=n(629),o=n(6455),s=n.n(o);const a={name:"notifications",middleware:"auth",computed:(0,e.Se)({notifications:"notifications/notifications"}),methods:{viewNotification:function(t){var i=this,n=t.url,e={id:t.id,title:t.title,url:n,read:!0};this.$store.dispatch("notifications/updateNotification",e).then((function(t){i.$router.push(n)})).catch((function(t){s().fire({icon:"error",title:"Something went wrong!"})}))},updateReadStatus:function(t){var i=this,n={id:t.id,title:t.title,read:!t.read,url:t.url};this.$store.dispatch("notifications/updateNotification",n).then((function(t){s().fire({icon:"success",title:t.message}),i.$store.dispatch("notifications/fetchNotifications")})).catch((function(t){return console.log(t)}))},deleteReady:function(t){var i=this;s().fire({icon:"question",title:"Are you sure to delete ?",text:"There is no undo for this action",showCancelButton:!0,confirmButtonText:"Yes, Delete!"}).then((function(n){n.isConfirmed&&i.deleteNotification(t)}))},deleteNotification:function(t){var i=this;this.$store.dispatch("notifications/deleteNotification",t.id).then((function(t){s().fire({icon:"success",title:t.message}),i.$store.dispatch("notifications/fetchNotifications")})).catch((function(t){s().fire({icon:"error",title:"Something went wrong!"})}))}},mounted:function(){this.$store.dispatch("notifications/fetchNotifications").then((function(t){return console.log(t)})).catch((function(t){return console.log(t)}))}};const c=(0,n(1900).Z)(a,(function(){var t=this,i=t._self._c;return i("div",{staticClass:"container-fluid row"},[i("div",{staticClass:"col-lg-7 m-auto"},[t._m(0),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-12 m-auto"},[i("table",{staticClass:"table"},[t._m(1),t._v(" "),i("tbody",t._l(t.notifications,(function(n){return i("tr",[i("td",[t._v(t._s(n.id))]),t._v(" "),i("td",[t._v(t._s(n.title))]),t._v(" "),i("td",[i("a",{staticClass:"btn btn-primary btn-sm",attrs:{href:"javascript:void(0)"},on:{click:function(){return t.viewNotification(n)}}},[t._v("View")])]),t._v(" "),i("td",[n.read?i("a",{staticClass:"btn btn-sm btn-secondary",attrs:{href:"javascript:void(0)"},on:{click:function(){return t.updateReadStatus(n)}}},[t._v("Mark as Unread")]):i("a",{staticClass:"btn btn-sm btn-secondary",attrs:{href:"javascript:void(0)"},on:{click:function(){return t.updateReadStatus(n)}}},[t._v("Mark as Read")])]),t._v(" "),i("td",[i("a",{staticClass:"btn btn-sm btn-danger",attrs:{href:"javascript:void(0)"},on:{click:function(){return t.deleteReady(n)}}},[t._v("Delete")])])])})),0)])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"pb-3 mb-3 border-bottom"},[t("h1",[this._v("Notifications")])])},function(){var t=this,i=t._self._c;return i("thead",[i("tr",[i("th",[t._v("#")]),t._v(" "),i("th",[t._v("Title")]),t._v(" "),i("th",[t._v("View")]),t._v(" "),i("th",[t._v("Status")]),t._v(" "),i("th",[t._v("Action")])])])}],!1,null,null,null).exports}}]);