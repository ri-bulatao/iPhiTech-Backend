"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3015],{9198:(t,e,s)=>{s.d(e,{bW:()=>d,ui:()=>r,xO:()=>a});var n=s(6455),i=s.n(n),o=i().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",i().stopTimer),t.addEventListener("mouseleave",i().resumeTimer)}}),r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Question",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Question description",s=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return new Promise((function(o,r){i().fire({icon:"question",title:t,text:e,showCancelButton:s,confirmButtonText:n}).then((function(t){t.isConfirmed&&o(t),r(t)}))}))},a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Success",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Success Message";o.fire({icon:"success",title:t,text:e})},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Ooops",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Something went wrong!";o.fire({icon:"error",title:t,text:e})}},3015:(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var n=s(629),i=s(9198);const o={name:"admin-user-users",middleware:"admin",computed:(0,n.Se)({users:"users/users"}),methods:{deleteUser:function(t){var e=this;(0,i.ui)("Are you sure?","You won't be able to revert this!",!0,"Yes, delete it!").then((function(s){s.isConfirmed&&e.remove(t)}))},remove:function(t){var e=this;this.$store.dispatch("users/removeUser",{id:t}).then((function(t){t.data.success?(e.$store.dispatch("users/fetchUsers"),(0,i.xO)("Deleted!",t.data.message)):(0,i.bW)("Error!",t.data.message)})).catch((function(t){console.log(t)}))}}};const r=(0,s(1900).Z)(o,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"d-flex justify-content-end mb-3"},[e("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"admin.user.create"}}},[t._v("Create User")])],1),t._v(" "),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[t._v("\n                    List of users\n                ")]),t._v(" "),e("div",{staticClass:"card-body"},[e("table",{staticClass:"table table-striped caption-top"},[t._m(0),t._v(" "),e("tbody",t._l(t.users,(function(s,n){return e("tr",{key:s.id},[e("td",{staticClass:"col-md-1"},[t._v(t._s(n+1))]),t._v(" "),e("td",[t._v(t._s(s.full_name))]),t._v(" "),e("td",[t._v(t._s(s.email))]),t._v(" "),e("td",[t._v(t._s(s.position?s.position.name:"N/a"))]),t._v(" "),e("td",{staticClass:"col-md-2"},[e("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{to:{name:"admin.user.single",params:{id:s.id}}}},[t._v(" View ")]),t._v(" "),e("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(e){return t.deleteUser(s.id)}}},[t._v("Remove")])],1)])})),0)])])])])])])}),[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("td",[e("strong",[t._v("#")])]),t._v(" "),e("td",[e("strong",[t._v("Name")])]),t._v(" "),e("td",[e("strong",[t._v("Email")])]),t._v(" "),e("td",[e("strong",[t._v("Position")])]),t._v(" "),e("td",[e("strong",[t._v("Actions")])])])])}],!1,null,null,null).exports}}]);