"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5149,6281],{9198:(t,e,n)=>{n.d(e,{bW:()=>r,ui:()=>c,xO:()=>o});var i=n(6455),s=n.n(i),a=s().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",s().stopTimer),t.addEventListener("mouseleave",s().resumeTimer)}}),c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Question",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Question description",n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,c){s().fire({icon:"question",title:t,text:e,showCancelButton:n,confirmButtonText:i}).then((function(t){t.isConfirmed&&a(t),c(t)}))}))},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Success",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Success Message";a.fire({icon:"success",title:t,text:e})},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Ooops",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Something went wrong!";a.fire({icon:"error",title:t,text:e})}},5149:(t,e,n)=>{n.r(e),n.d(e,{default:()=>o});var i=n(6281),s=n(629),a=n(9198);const c={name:"attendance",components:{AttendanceList:i.default},data:function(){return{timeinPretty:"TIME IN",timeoutPretty:"TIME OUT"}},computed:(0,s.Se)({user:"auth/user",attendances:"attendances/attendances",attendanceToday:"attendances/attendanceToday"}),methods:{timein:function(){var t=this,e={user_id:this.user.id};this.$store.dispatch("attendances/timein",e).then((function(n){(0,a.xO)(null,"Timed In!"),t.$store.dispatch("attendances/fetchAttendances",e),t.$store.dispatch("attendances/fetchAttendanceToday",e).then((function(e){null!==e.time_in&&(t.timeinPretty=e.time_in_pretty),null!==e.time_out&&(t.timeoutPretty=e.time_out_pretty)}))})).catch((function(t){return(0,a.bW)()}))},timeout:function(){var t=this,e={user_id:this.user.id};this.$store.dispatch("attendances/timeout",e).then((function(n){(0,a.xO)(null,"Timed Out!"),t.$store.dispatch("attendances/fetchAttendances",e),t.$store.dispatch("attendances/fetchAttendanceToday",e).then((function(e){null!==e.time_in&&(t.timeinPretty=e.time_in_pretty),null!==e.time_out&&(t.timeoutPretty=e.time_out_pretty)}))})).catch((function(t){return(0,a.bW)()}))}},mounted:function(){var t=this,e={user_id:this.user.id};this.$store.dispatch("attendances/fetchAttendances",e),this.$store.dispatch("attendances/fetchAttendanceToday",e).then((function(e){null!==e.time_in&&(t.timeinPretty=e.time_in_pretty),null!==e.time_out&&(t.timeoutPretty=e.time_out_pretty)}))}};const o=(0,n(1900).Z)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-fluid"},[t._m(0),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-lg-7 m-auto mb-3"},[e("div",{staticClass:"d-flex m-auto justify-content-center py-3"},[e("a",{staticClass:"btn btn-lg btn-success mx-3",attrs:{href:"javascript:void(0)"},on:{click:t.timein}},[t._v(t._s(t.timeinPretty))]),t._v(" "),e("a",{staticClass:"btn btn-lg btn-danger mx-3",attrs:{href:"javascript:void(0)"},on:{click:t.timeout}},[t._v(t._s(t.timeoutPretty))])])]),t._v(" "),e("div",{staticClass:"col-sm-12 col-lg-7 m-auto"},[e("AttendanceList")],1)])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-lg-7 m-auto border-bottom mb-3"},[e("h1",[t._v("Attendance")]),t._v(" "),e("small",[t._v("Attendance")])])])}],!1,null,null,null).exports},6281:(t,e,n)=>{n.r(e),n.d(e,{default:()=>c});var i=n(629),s=n(2552);const a={name:"attendance-list",data:function(){return{routeNames:s}},computed:(0,i.Se)({user:"auth/user",attendances:"attendances/attendances"}),mounted:function(){var t=this,e={user_id:this.user.id};this.$store.dispatch("attendances/fetchAttendances",e),this.$store.dispatch("attendances/fetchAttendanceToday",e).then((function(e){t.timeinPretty=e.time_in_pretty,t.timeoutPretty=e.time_out_pretty,null!==e.time_in&&(t.isTimein=!0),null!==e.time_out&&(t.isTimeout=!0)}))}};const c=(0,n(1900).Z)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[t._m(0),t._v(" "),e("div",[e("div",{staticClass:"d-flex m-auto justify-content-center py-3"},[t.user.is_admin?e("table",{staticClass:"table table-striped"},[t._m(2),t._v(" "),e("tbody",t._l(t.attendances,(function(n){return e("tr",[e("td",[t._v(t._s(n.id))]),t._v(" "),e("td",[t._v(t._s(n.first_name))]),t._v(" "),e("td",[t._v(t._s(n.last_name))]),t._v(" "),e("td",[e("router-link",{staticClass:"btn btn-sm btn-primary",attrs:{to:{name:[t.routeNames.attendance_employee],params:{id:n.id}}}},[t._v("View")])],1)])})),0)]):e("table",{staticClass:"table table-striped"},[t._m(1),t._v(" "),e("tbody",t._l(t.attendances,(function(n){return e("tr",[e("td",[t._v(t._s(n.id))]),t._v(" "),e("td",[t._v(t._s(n.date))]),t._v(" "),e("td",[t._v(t._s(n.time_in))]),t._v(" "),e("td",[t._v(t._s(n.time_out))]),t._v(" "),e("td",[t._v(t._s(n.status))])])})),0)])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"m-auto border-bottom"},[t("small",[this._v("Attendance List")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("td",[t._v("ID")]),t._v(" "),e("td",[t._v("Date")]),t._v(" "),e("td",[t._v("Time In")]),t._v(" "),e("td",[t._v("Time Out")]),t._v(" "),e("td",[t._v("Status")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("td",[t._v("ID")]),t._v(" "),e("td",[t._v("First Name")]),t._v(" "),e("td",[t._v("Last Name")]),t._v(" "),e("td",[t._v("Actions")])])])}],!1,null,null,null).exports}}]);