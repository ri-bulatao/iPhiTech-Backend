"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2707],{9198:(t,i,n)=>{n.d(i,{bW:()=>r,ui:()=>a,xO:()=>c});var e=n(6455),o=n.n(e),s=o().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",o().stopTimer),t.addEventListener("mouseleave",o().resumeTimer)}}),a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Question",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Question description",n=arguments.length>2?arguments[2]:void 0,e=arguments.length>3?arguments[3]:void 0;return new Promise((function(s,a){o().fire({icon:"question",title:t,text:i,showCancelButton:n,confirmButtonText:e}).then((function(t){t.isConfirmed&&s(t),a(t)}))}))},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Success",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Success Message";s.fire({icon:"success",title:t,text:i})},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Ooops",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Something went wrong!";s.fire({icon:"error",title:t,text:i})}},2707:(t,i,n)=>{n.r(i),n.d(i,{default:()=>a});var e=n(629),o=(n(6455),n(9198));const s={name:"notifications",middleware:"auth",computed:(0,e.Se)({notifications:"notifications/notifications"}),methods:{viewNotification:function(t){var i=this,n=t.url,e={id:t.id,title:t.title,url:n,read:!0};this.$store.dispatch("notifications/updateNotification",e).then((function(t){i.$router.push(n)})).catch((function(t){(0,o.bW)()}))},updateReadStatus:function(t){var i=this,n={id:t.id,title:t.title,read:!t.read,url:t.url};this.$store.dispatch("notifications/updateNotification",n).then((function(t){(0,o.xO)("Success",t.message),i.$store.dispatch("notifications/fetchNotifications")})).catch((function(t){return TaostError()}))},deleteReady:function(t){var i=this;(0,o.ui)("Are you sure to delete ?","There is no undo for this action",!0,"Yes, Delete!").then((function(n){n.isConfirmed&&i.deleteNotification(t)}))},deleteNotification:function(t){var i=this;this.$store.dispatch("notifications/deleteNotification",t.id).then((function(t){(0,o.xO)("Success",t.message),i.$store.dispatch("notifications/fetchNotifications")})).catch((function(t){(0,o.bW)()}))}},mounted:function(){this.$store.dispatch("notifications/fetchNotifications").catch((function(t){return(0,o.bW)()}))}};const a=(0,n(1900).Z)(s,(function(){var t=this,i=t._self._c;return i("div",{staticClass:"container-fluid row"},[i("div",{staticClass:"col-lg-7 m-auto"},[t._m(0),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-12 m-auto"},[i("table",{staticClass:"table"},[t._m(1),t._v(" "),i("tbody",t._l(t.notifications,(function(n){return i("tr",[i("td",[t._v(t._s(n.id))]),t._v(" "),i("td",[t._v(t._s(n.title))]),t._v(" "),i("td",[i("a",{staticClass:"btn btn-primary btn-sm",attrs:{href:"javascript:void(0)"},on:{click:function(){return t.viewNotification(n)}}},[t._v("View")])]),t._v(" "),i("td",[n.read?i("a",{staticClass:"btn btn-sm btn-secondary",attrs:{href:"javascript:void(0)"},on:{click:function(){return t.updateReadStatus(n)}}},[t._v("Mark as Unread")]):i("a",{staticClass:"btn btn-sm btn-secondary",attrs:{href:"javascript:void(0)"},on:{click:function(){return t.updateReadStatus(n)}}},[t._v("Mark as Read")])]),t._v(" "),i("td",[i("a",{staticClass:"btn btn-sm btn-danger",attrs:{href:"javascript:void(0)"},on:{click:function(){return t.deleteReady(n)}}},[t._v("Delete")])])])})),0)])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"pb-3 mb-3 border-bottom"},[t("h1",[this._v("Notifications")])])},function(){var t=this,i=t._self._c;return i("thead",[i("tr",[i("th",[t._v("#")]),t._v(" "),i("th",[t._v("Title")]),t._v(" "),i("th",[t._v("View")]),t._v(" "),i("th",[t._v("Status")]),t._v(" "),i("th",[t._v("Action")])])])}],!1,null,null,null).exports}}]);